/* ===== Tema global – Financial Calculators ===== */
/* Paleta: azul oscuro tirando a morado (indigo) */
:root {
  --fc-font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --fc-color-primary: #4f46e5;
  --fc-color-primary-hover: #4338ca;
  --fc-color-primary-muted: #6366f1;
  --fc-color-danger: #dc2626;
  --fc-color-danger-hover: #b91c1c;
  --fc-color-border: #e4e4e7;
  --fc-color-border-input: #d4d4d8;
  --fc-color-bg: #ffffff;
  --fc-color-bg-muted: #fafafa;
  --fc-color-bg-sidebar: #f4f4f5;
  --fc-color-text: #18181b;
  --fc-color-text-muted: #52525b;
  --fc-color-text-footer: #71717a;
  --fc-color-heading: #312e81;
  --fc-color-heading-muted: #4338ca;
  --fc-radius: 6px;
  --fc-radius-lg: 10px;
  --fc-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
  --fc-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
  --fc-focus-ring: 0 0 0 2px rgba(79, 70, 229, 0.35);
}

/* Dark mode suave: mismo contraste que el tema claro, sin negro puro */
@media (prefers-color-scheme: dark) {
  :root {
    --fc-color-border: #3f3f46;
    --fc-color-border-input: #52525b;
    --fc-color-bg: #27272a;
    --fc-color-bg-muted: #18181b;
    --fc-color-bg-sidebar: #1f1f23;
    --fc-color-text: #fafafa;
    --fc-color-text-muted: #a1a1aa;
    --fc-color-text-footer: #71717a;
    --fc-color-heading: #e4e4e7;
    --fc-color-heading-muted: #a5b4fc;
    --fc-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    --fc-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.25);
    --fc-focus-ring: 0 0 0 2px rgba(129, 140, 248, 0.5);
  }
}

html,
body {
  margin: 0;
  padding: 0;
  font-family: var(--fc-font-family);
  color: var(--fc-color-text);
  background-color: var(--fc-color-bg-muted);
  overflow-x: hidden;
}

/* Títulos con color del tema */
h1, .fc-title-page {
  color: var(--fc-color-heading);
  font-weight: 700;
}

h2, .fc-title-section {
  color: var(--fc-color-heading);
  font-weight: 600;
}

h3, .fc-title-card {
  color: var(--fc-color-heading-muted);
  font-weight: 600;
}

/* Card reutilizable (clase global para uso sin componente) */
.fc-card {
  background: var(--fc-color-bg);
  border-radius: var(--fc-radius-lg);
  padding: 1rem 1.25rem;
  box-shadow: var(--fc-shadow);
  border: 1px solid var(--fc-color-border);
}

.fc-card__title {
  margin: 0 0 0.75rem;
  font-size: 1rem;
  font-weight: 600;
  color: var(--fc-color-heading-muted);
}

/* Botones compartidos (tema global) */
.btn {
  display: inline-flex;
  align-items: center;
  padding: 0.55rem 1rem;
  border-radius: var(--fc-radius);
  border: none;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.95rem;
  font-family: var(--fc-font-family);

  &--primary {
    background: var(--fc-color-primary);
    color: white;

    &:hover {
      background: var(--fc-color-primary-hover);
    }
  }
}

/* Botones circulares + / − (reutilizables) */
.icon-button {
  width: 1.8rem;
  height: 1.8rem;
  padding: 0;
  border-radius: 50%;
  border: 1px solid var(--fc-color-border-input);
  background: var(--fc-color-primary);
  cursor: pointer;
  font-weight: 700;
  font-size: 1.1rem;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: white;
  flex-shrink: 0;

  &:hover {
    background: var(--fc-color-primary-muted);
  }

  &--danger {
    background: var(--fc-color-danger);
    border-color: var(--fc-color-danger);

    &:hover {
      background: var(--fc-color-danger-hover);
    }
  }
}

/* Checkboxes: estado marcado con color del tema */
input[type='checkbox'] {
  accent-color: var(--fc-color-primary);
}

/* Regla: todo lo que va entre () en etiquetas debe usar .form-label-legend (más pequeño y gris) */
.form-label-legend {
  font-size: 0.8em;
  font-weight: 500;
  color: var(--fc-color-text-muted);
}

/* Inputs de formulario: aspecto unificado en todo el aplicativo (número, texto/moneda) */
.panel input:not([type="checkbox"]),
.form-group input:not([type="checkbox"]) {
  padding: 0.45rem 0.6rem;
  border-radius: var(--fc-radius);
  border: 1px solid var(--fc-color-border-input);
  font-size: 0.95rem;
  outline: none;
}
.panel input:not([type="checkbox"]):focus,
.form-group input:not([type="checkbox"]):focus {
  box-shadow: var(--fc-focus-ring);
  border-color: var(--fc-color-primary);
}

/* Campo con sufijo (% o $) dentro del campo. Mismo estilo para tasas y montos. */
.input-with-suffix {
  position: relative;
  display: block;

  input {
    width: 100%;
    box-sizing: border-box;
    padding-right: 2rem;
  }
}

.input-with-suffix__suffix {
  position: absolute;
  right: 0.6rem;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: var(--fc-color-text-muted);
  font-size: 0.9em;
}

/* Tooltip (p. ej. opciones del menú cuando el sidebar está colapsado) */
.app-tooltip {
  position: fixed;
  transform: translateY(-50%);
  z-index: 9999;
  padding: 0.4rem 0.65rem;
  font-size: 0.85rem;
  font-family: var(--fc-font-family);
  color: var(--fc-color-text);
  background: #eef2ff;
  border: 1px solid rgba(79, 70, 229, 0.2);
  border-radius: var(--fc-radius);
  box-shadow: var(--fc-shadow);
  white-space: nowrap;
  pointer-events: none;
}

@media (prefers-color-scheme: dark) {
  .app-tooltip {
    background: #312e81;
    border-color: rgba(129, 140, 248, 0.3);
    color: #fafafa;
  }
}

/* Móvil: permitir que tablas y secciones no se corten; scroll horizontal en tablas */
@media (max-width: 768px) {
  .panel,
  .app-content,
  .mortgage-results__table,
  .results,
  .mortgage-results,
  .calc-page__layout {
    min-width: 0;
  }
}

/* Móvil: 1 campo por fila en todos los formularios */
@media (max-width: 768px) {
  .panel .form,
  .form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .panel .form .form-group {
    width: 100%;
    min-width: 0;
  }
}
